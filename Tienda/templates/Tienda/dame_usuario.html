{% extends "principal.html" %}

{% block contenido %}
<div class="container">

  <h1>Usuario: {{ dame_usuario.nombre }}</h1>

  <!-- Datos Básicos -->
  <h2>Datos Básicos</h2>
  <table>
    <tbody>
      <tr>
        <th>ID</th>
        <td>{{ dame_usuario.id }}</td>
      </tr>
      <tr>
        <th>Identificador</th>
        <td>{{ dame_usuario.identificador }}</td>
      </tr>
      <tr>
        <th>Correo electrónico</th>
        <td>{{ dame_usuario.correo_electronico }}</td>
      </tr>
      <tr>
        <th>Fecha de nacimiento</th>
        <td>{{ dame_usuario.fecha_nacimiento|date:"d-m-Y" }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Perfil del Usuario -->
  <h2>Perfil del Usuario</h2>
  {% if dame_usuario.perfil %}
    <table>
      <tbody>
        <tr>
          <th>Bio</th>
          <td>
            {% if dame_usuario.perfil.bio %}
              {{ dame_usuario.perfil.bio }}
            {% else %}
              Sin biografía
            {% endif %}
          </td>
        </tr>

        <tr>
          <th>Dirección</th>
          <td>
            {% if dame_usuario.perfil.direccion %}
              {{ dame_usuario.perfil.direccion }}
            {% else %}
              Sin dirección
            {% endif %}
          </td>
        </tr>

        <tr>
          <th>Teléfono</th>
          <td>
            {% if dame_usuario.perfil.telefono %}
              {{ dame_usuario.perfil.telefono }}
            {% else %}
              Sin teléfono
            {% endif %}
          </td>
        </tr>

        <tr>
          <th>Sitio Web</th>
          <td>
            {% if dame_usuario.perfil.sitio_web %}
              <a href="{{ dame_usuario.perfil.sitio_web }}">
                {{ dame_usuario.perfil.sitio_web }}
              </a>
            {% else %}
              Sin sitio web
            {% endif %}
          </td>
        </tr>
      </tbody>
    </table>
  {% else %}
    <p>Este usuario no tiene perfil registrado.</p>
  {% endif %}

  <!-- Prendas Asociadas -->
  <h2>Prendas Asociadas</h2>
  {% if dame_usuario.prendas.all %}
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Talla</th>
          <th>Color</th>
          <th>Precio</th>
          <th>Marca</th>
        </tr>
      </thead>
      <tbody>
        {% for prenda in dame_usuario.prendas.all %}
          {% include "./partials/_prenda_item.html" %}
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>Este usuario no tiene prendas asociadas.</p>
  {% endif %}

  <!-- Reseñas del Usuario -->
  <h2>Reseñas del Usuario</h2>
  {% if dame_usuario.reseñas.all %}
    <table>
      <thead>
        <tr>
          <th>Prenda</th>
          <th>Calificación</th>
          <th>Comentario</th>
          <th>Fecha</th>
          <th>Recomendado</th>
          <th>Usuarios</th>
        </tr>
      </thead>
      <tbody>
        {% for reseña in dame_usuario.reseñas.all %}
          {% include "./partials/_reseña_item.html" %}
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>Este usuario no tiene reseñas registradas.</p>
  {% endif %}

</div>
{% endblock %}
